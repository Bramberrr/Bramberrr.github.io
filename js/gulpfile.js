"use strict";var gulp=require("gulp"),cleanCSS=require("gulp-clean-css"),htmlmin=require("gulp-html-minifier-terser"),htmlclean=require("gulp-htmlclean"),uglify=require("gulp-uglify"),babel=require("gulp-babel");gulp.task("compress",function(){return gulp.src(["./public/**/*.js","!./public/**/*.min.js"]).pipe(babel({presets:["@babel/preset-env"]})).pipe(uglify().on("error",function(e){console.log(e)})).pipe(gulp.dest("./public"))}),gulp.task("minify-css",function(){return gulp.src(["./public/**/*.css"]).pipe(cleanCSS({compatibility:"ie11"})).pipe(gulp.dest("./public"))}),gulp.task("minify-html",function(){return gulp.src("./public/**/*.html").pipe(htmlclean()).pipe(htmlmin({removeComments:!0,collapseWhitespace:!0,collapseBooleanAttributes:!0,removeEmptyAttributes:!0,removeScriptTypeAttributes:!0,removeStyleLinkTypeAttributes:!0,minifyJS:!0,minifyCSS:!0,minifyURLs:!0})).pipe(gulp.dest("./public"))}),gulp.task("default",gulp.parallel("compress","minify-css","minify-html"));